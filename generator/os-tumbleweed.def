BASE_IMAGE([opensuse/tumbleweed])
define([_OS_SHORT_NAME],[Tumbleweed])
define(_OBS_REGISTRY_HOST,[registry.opensuse.org])
define(_OBS_REGISTRY_NAMESPACE,[opensuse])
define([_OBS_DISTRO_ID],[Factory])
define(_OCI_NAMESPACE_PREFIX,[org.opensuse])
define(_BUILD_CLEANUP,[# no cleanup required])
define([_BUILD_INSTALL_PACKAGES],[dnl
RUN zypper install -y --no-recommends __PRINT_LIST($@)
])
define([_BUILD_ENABLE_REPO],[dnl
RUN zypper addrepo --refresh --no-gpgcheck $1])
define([_BUILD_REFRESH_REPOS],[dnl
RUN zypper refresh])

define([_BUILD_SETUP],[
# Work around https://github.com/openSUSE/obs-build/issues/487
RUN zypper install -y openSUSE-release-appliance-docker
])
